package com.eclipselink.service;
import java.util.List;
import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.Persistence;
import javax.persistence.Query;

import com.eclipselink.entity.Funcionario;


public class ConsultasJPQLFuncionario {

	public static void main(String[] args) {
		EntityManagerFactory emfactory = Persistence.createEntityManagerFactory( "JPA_01" );
		EntityManager entitymanager = emfactory.createEntityManager();
		
		//Funcionarios
		Query query1 = entitymanager.createQuery("Select e.nome, e.cargo, e.salario from Funcionario e");
		List<Object[]> list1 = query1.getResultList();
		  
		//Utilizando Agregações
		Query query2 = entitymanager.createQuery("Select MAX(e.salario) from Funcionario e");
		Double result = (Double) query2.getSingleResult();

		Query query3 = entitymanager.createQuery("Select AVG(e.salario), SUM(e.salario) from Funcionario e");
		Object[] object = (Object[]) query3.getSingleResult();
